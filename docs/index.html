<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ConoCEU</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/style_chats.css" />
</head>
<body>
  <header>
    <a class="icon link" href="index.html" aria-label="Ir a inicio">
      <img src="img/logoceu.png" alt="Logo CEU" class="icon-left" />
    </a>
    <a href="index.html" class="ch-brand" aria-label="Ir a inicio">
      <span class="ch-brand-cono">Cono</span><span class="ch-brand-ceu">CEU</span>
    </a>
    <script src="auth.js"></script>
    <img src="img/logoceu.png" alt="Logo CEU" class="icon-right" />
  </header>

  <main>
    <!-- PERFIL -->
    <a href="Perfil.html" class="card link-card">
      <h2>PERFIL</h2>
      <img src="img/Perfil.png" alt="Perfil" />
    </a>

    <!-- PUBLICACIONES -->
    <a href="Publicaciones.html" class="card link-card">
      <h2>PUBLICACIONES</h2>
      <img src="img/Publicaciones.png" alt="Publicaciones" />
    </a>

    <!-- CHATS -->
    <a href="Chats.html" class="card link-card">
      <h2>CHATS</h2>
      <img src="img/Chats.png" alt="Chats" />
    </a>

    <!-- TIENDA -->
    <a href="SeleccionTienda.html" class="card link-card">
      <h2>TIENDA</h2>
      <img src="img/Tienda.png" alt="Tienda" />
    </a>
  </main>

  <footer>
    <a href="Privacidad.html" class="footer-btn">Política de Privacidad</a>
    <a href="AboutUs.html" class="footer-btn">About us</a>
  </footer>

  <script>
    function applyThemePreference(prefFromStorage) {
      const pref = prefFromStorage || localStorage.getItem('cfg_theme') || 'system';

      function setTheme(theme) {
          // Establece el atributo data-theme en la etiqueta <html>
          document.documentElement.dataset.theme = theme;
      }

      if (pref === 'system') {
          const mq = window.matchMedia('(prefers-color-scheme: dark)');
          setTheme(mq.matches ? 'dark' : 'light');
          mq.addEventListener('change', e => {
              const current = localStorage.getItem('cfg_theme') || 'system';
              if (current === 'system') {
                  setTheme(e.matches ? 'dark' : 'light');
              }
          });
      } else {
          setTheme(pref);
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Llama a la función de aplicación del tema.
      applyThemePreference(); 
    });
  </script>

</body>
</html>
